#! /bin/bash

absolute(){
file=` basename $1 `
#echo $file
cpath=${2#*${file}}
fpath=$1$cpath
#echo $fpath
echo "adb push $2 $fpath"
adb push $2 $fpath
return 0
}

relative(){
find . -name $2 | awk '{ print NR  $1 }'
read -p "the correct path number " num
read lpath <<< ` find ./ -name $2 | awk "NR==$num "'{print $1}'  `
if [ -z $2 ];
then
echo "404 not found"
else
fpath=$1"/"$2
echo "adb push $lpath $fpath "
adb push $2 $fpath
fi
}


if [ -z $RPATH ];
then
read -p "input the remote path " RPATH
fi

if [ -z $1 ];
then 
read -p "input the file name " fname
relative $RPATH $fname
elif [[ $1 =~ "/" ]]; 
then
echo "absolutional path"
absolute $RPATH $1
else
<<<<<<< HEAD
relative $RPATH $1
=======
fpath=$RPATH"/"$lpath
echo "adb push $lpath $fpath "
MSYS_NO_PATHCONV=1 adb push $lpath $fpath
>>>>>>> cd47bca65b16c38acd64ce12332293c2ef30002e
fi



